<!doctype html>
<html>
<head>
    <title>GeoGlyph</title>
    <link rel="stylesheet" href="profile.css">
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.0/mapbox-gl.css' rel='stylesheet' />
</head>
<body>
  <!--HEADER SECTION -->
<!--========================================================================  -->
    <!--FIRST SECTION-->
<section class="container">
  <section class="page-header text-center">
      <h1><span class="fa fa-anchor"></span> Profile Page</h1>
      <a href="/logout" class="btn btn-default btn-sm">Logout</a>
    <% if (user.local.email) { %>
      <a href="/unlink/local" class="btn btn-default">Unlink</a> <% } else { %>
      <a href="/connect/local" class="btn btn-default">Connect Local</a>
    <% } %>
  </section>

  <section class="row">
    <!-- LOCAL INFORMATION -->
    <!--TODO: Add geolocation to this section-->
    <section class="glyphMap">
      <section class="well">
        <section>
          <img src="img/atikh-bana-Ycds6emp7BA-unsplash.jpg" alt="avatar">
        </section>
        <h3><span class="fa fa-user"></span><%= user.local.username %><br></h3>
        <!-- Problem with userName -->
        <% if (user.local.email) { %>
          <p>
            <strong>id</strong>: <%= user._id %><br>
            <strong>email</strong>: <%= user.local.email %><br>
            <strong>Bio</strong>:<%= user.local.bio %><br>
            <!-- <strong>password</strong>: <%= user.local.password %> -->
          </p>
        <% } %>
      </section>
    </section>

<!--========================================================================  -->
  <!--SECOND SECTION-->

  <section class="userProfile">
    <h2>Glyph Map</h2>
    <!--KW Sat: Removed form that I created and coppied the form from the geolocation project -->
    <form action="/messages" method="POST">

    <!-- <input type="text" placeholder="name" name="name"> -->
    <input type="text" placeholder="What's going on?" name="quote">

    <!--Hidden inpu box to store location of user on click-->
    <input hidden id="location" type="text" name="locate">
    <!--==============SEE ABOVE========================  -->

    <button class="mapboxgl-ctrl-icon, mapboxgl-ctrl-geolocate" id="find">Find my location</button>
    <button id="submitBtn" type="submit">Submit</button>
    <a href="/maps">Query for Glyphs</a>
  </form>

      <ul>
        <% for(var i=0; i<messages.length; i++) {%>
          <li class="message">
              <span><%= messages[i].name %></span>
              <span><%= messages[i].quote %></span>
              <span><i class="fas fa-sun" aria-hidden="true"></i></span>
              <span><i class="fa fa-thumbs-down" aria-hidden="true"></i></span>
              <span><i class="fa fa-trash" aria-hidden="true"></i></span>
          </li>
        <% } %>
      </ul>

    </section>

    <section class="glyph">
      <section id='map'></section>
    </section>

  </section>
<!--QUESTION: Am I able to run two script on the same page, is it necessary-->

<script src="location.js" charset="utf-8"></script>
<script src="main.js"></script>

</body>
</html>
